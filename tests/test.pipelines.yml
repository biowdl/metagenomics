- name: paired-end
  tags:
    - integration
    - no_docker_conf
  command: >-
    cromwell run -o tests/cromwell.options.json
    -i tests/integration/paired.end.json sequence-classification.wdl
  files:
    - path: "test-output/Norovirus_PairedEnd_1/Norovirus_PairedEnd_1_alignment_metrics.tsv"
    - path: "test-output/Norovirus_PairedEnd_1/Norovirus_PairedEnd_1_classification.tsv"
    - path: "test-output/Norovirus_PairedEnd_1/Norovirus_PairedEnd_1_output_report.tsv"
    - path: "test-output/Norovirus_PairedEnd_1/Norovirus_PairedEnd_1_krona.html"
    - path: "test-output/Norovirus_PairedEnd_2/Norovirus_PairedEnd_2_alignment_metrics.tsv"
    - path: "test-output/Norovirus_PairedEnd_2/Norovirus_PairedEnd_2_classification.tsv"
    - path: "test-output/Norovirus_PairedEnd_2/Norovirus_PairedEnd_2_output_report.tsv"
    - path: "test-output/Norovirus_PairedEnd_2/Norovirus_PairedEnd_2_krona.html"

- name: single-end
  tags:
    - integration
    - no_docker_conf
  command: >-
    cromwell run -o tests/cromwell.options.json
    -i tests/integration/single.end.json sequence-classification.wdl
  files:
    - path: "test-output/Norovirus_SingleEnd_1/Norovirus_SingleEnd_1_alignment_metrics.tsv"
    - path: "test-output/Norovirus_SingleEnd_1/Norovirus_SingleEnd_1_classification.tsv"
    - path: "test-output/Norovirus_SingleEnd_1/Norovirus_SingleEnd_1_output_report.tsv"
    - path: "test-output/Norovirus_SingleEnd_1/Norovirus_SingleEnd_1_krona.html"
    - path: "test-output/Norovirus_SingleEnd_2/Norovirus_SingleEnd_2_alignment_metrics.tsv"
    - path: "test-output/Norovirus_SingleEnd_2/Norovirus_SingleEnd_2_classification.tsv"
    - path: "test-output/Norovirus_SingleEnd_2/Norovirus_SingleEnd_2_output_report.tsv"
    - path: "test-output/Norovirus_SingleEnd_2/Norovirus_SingleEnd_2_krona.html"
